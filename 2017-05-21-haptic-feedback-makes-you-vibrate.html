<!doctype html> <html> <head> <meta charset=utf-8> <meta http-equiv=X-UA-Compatible content="IE=edge"> <meta name=viewport content="width=device-width, initial-scale=1"> <link rel=alternate type="application/atom+xml" title="Atom Feed" href="https://mariusc.github.io/feed.xml"> <meta name=language content=en> <meta name=description content="Personal website of Marius Constantinescu"> <meta name=author content="Marius Constantinescu"> <meta content="Marius Constantinescu" itemprop=name> <meta content="https://mariusc.github.io/" itemprop=url> <meta content="iOS developer. Continuously learning about iOS development," itemprop=about> <meta content="iOS developer. Continuously learning about iOS development" itemprop=description> <meta content="Marius Constantinescu" property="og:site_name"> <meta content="Marius Constantinescu" property="og:title"> <meta content="https://mariusc.github.io/" property="og:url"> <meta content=website property="og:type"> <meta content="iOS developer. Continuously learning about iOS development" property="og:description"> <meta content=summary name="twitter:card"> <meta content="@marius_const" name="twitter:site"> <meta content="@marius_const" name="twitter:creator"> <meta content="Marius Constantinescu" name="twitter:title"> <meta content="iOS developer. Continuously learning about iOS development" name="twitter:description"> <title>Haptic Feedback makes you vibrate! - Marius Constantinescu</title> <link href="/css/bootstrap.min.css?1571919778" rel=stylesheet /><link href="/css/clean-blog.css?1571919778" rel=stylesheet /> <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel=stylesheet> <link href='//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel=stylesheet> <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel=stylesheet> <!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script> <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script><![endif]--> <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-45800859-1', 'mariusc.github.io');
  ga('send', 'pageview');

</script> </head> <body> <nav class="navbar navbar-default navbar-custom navbar-fixed-top"> <div class=container-fluid> <div class="navbar-header page-scroll"> <button type=button class=navbar-toggle data-toggle=collapse data-target="#bs-example-navbar-collapse-1"> <span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span> </button> </div> <div class="collapse navbar-collapse" id=bs-example-navbar-collapse-1> <ul class="nav navbar-nav navbar-right"> <li> <a href="index.html">About</a> </li> <li> <a href="blog.html">Blog</a> </li> <li> <a href="portfolio.html">Portfolio</i></a> </li> <li> <a href="feed.xml"><i class="fa fa-rss-square"></i></a> </li> </ul> </div> </div> </nav> <header class=intro-header id=image-header style="background-image: url('img/blogposts/default_blogpost.jpg');"> <div class=container> <div class=row> <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"> <div class=post-heading> <h1>Haptic Feedback makes you vibrate!</h1> </div> </div> </div> </div> </header> <article> <div class=container> <div class=row> <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"> <article> <p><strong>NOTE: This article was first published on the <a href="https://engineering.nodesagency.com/articles/iOS/Haptic-feedback-makes-you-vibrate/">Nodes Engineering Blog</a> in April 2017.</strong></p> <p>The iPhone could vibrate ever since it was launched. And so did almost all the other phones, even from before smartphones were a thing. But Apple took this function further than anyone else, by introducing the Taptic Engine in the Apple Watch, and afterwards in many other products, like the new MacBooks and iPhones. The Taptic Engine provides haptic feedback, more similar to real-life touches than standard vibration.</p> <p>Together with iOS 10, Apple introduced an API for the Taptic Engine, which the developers can use to give haptic feedback to their users. To fully experience the haptic feedback you need an iPhone 7, 7 Plus or newer. Even though the API is introduced in iOS 10, it&rsquo;s only the iPhone 7 and iPhone 7 Plus that support this. On all previous devices, nothing happens when you try to do that. </p> <h2 id=how-to-create-haptic-feedback>How to create haptic feedback</h2> <p>Using the new API is super easy. With the <code>UIFeedbackGenerator</code> you can create haptic feedback with only two lines of code. </p> <p>There are 7 different types of haptic feedback a developer can use. The only difference between those 7 types of feedback is the vibration pattern. Some of them are subtle, like the selection change, and others are more powerful, like the notification error. </p> <p>The <code>UIFeedbackGenerator</code> has 3 subclasses, <code>UISelectionFeedbackGenerator</code>, <code>UIImpactFeedbackGenerator</code> and <code>UINotificationFeedbackGenerator</code>, and those are the ones a developer should work with. We will showing how to use them further below.</p> <p>Due to the inherent difficulties of showing vibrations through a blog post, we are using the official videos of each type of feedback from Apple&rsquo;s Human Interface Guidelines. You can also run the code <a href="https://github.com/mariusc/Vibrate">from this repo</a> on your iPhone 7 or iPhone 7 Plus to try it out.</p> <h3 id=selection>Selection</h3> <p>This one can be used when the user has to select from multiple discrete values, as he/she scrolls through them. For example, it&rsquo;s used in the <code>UIPickerView</code>. It feels like a light tap with each selection change. This is not to be used for example when selecting one of 4 radio button choices.</p> <video width=400 controls> <source src="http://nodesmanager.io/haptic/selection.mp4" type="video/mp4"> Your browser does not support HTML5 video. </video> <pre class="highlight swift"><code><span class="k">let</span> <span class="nv">selectionFeedbackGenerator</span> <span class="o">=</span> <span class="kt">UISelectionFeedbackGenerator</span><span class="p">()</span>
<span class="n">selectionFeedbackGenerator</span><span class="o">.</span><span class="nf">selectionChanged</span><span class="p">()</span>
</code></pre> <h3 id=impact>Impact</h3> <p>The impact type of feedback is to be used to enhance a visual experience. For example, it can be used in a game when a collision occurs. I couldn&rsquo;t find this documented, but I&rsquo;m almost sure that Impact - heavy is the type of feedback that the user feels when a peeked view pops full screen.</p> <p><strong>Light</strong></p> <video width=400 controls> <source src="http://nodesmanager.io/haptic/impact_light.mp4" type="video/mp4"> Your browser does not support HTML5 video. </video> <pre class="highlight swift"><code><span class="k">let</span> <span class="nv">lightImpactFeedbackGenerator</span> <span class="o">=</span> <span class="kt">UIImpactFeedbackGenerator</span><span class="p">(</span><span class="nv">style</span><span class="p">:</span> <span class="o">.</span><span class="n">light</span><span class="p">)</span>
<span class="n">lightImpactFeedbackGenerator</span><span class="o">.</span><span class="nf">impactOccurred</span><span class="p">()</span>
</code></pre> <p><strong>Medium</strong></p> <video width=400 controls> <source src="http://nodesmanager.io/haptic/impact_medium.mp4" type="video/mp4"> Your browser does not support HTML5 video. </video> <pre class="highlight swift"><code><span class="k">let</span> <span class="nv">mediumImpactFeedbackGenerator</span> <span class="o">=</span> <span class="kt">UIImpactFeedbackGenerator</span><span class="p">(</span><span class="nv">style</span><span class="p">:</span> <span class="o">.</span><span class="n">medium</span><span class="p">)</span>
<span class="n">mediumImpactFeedbackGenerator</span><span class="o">.</span><span class="nf">impactOccurred</span><span class="p">()</span>
</code></pre> <p><strong>Heavy</strong></p> <video width=400 controls> <source src="http://nodesmanager.io/haptic/impact_heavy.mp4" type="video/mp4"> Your browser does not support HTML5 video. </video> <pre class="highlight swift"><code><span class="k">let</span> <span class="nv">heavyImpactFeedbackGenerator</span> <span class="o">=</span> <span class="kt">UIImpactFeedbackGenerator</span><span class="p">(</span><span class="nv">style</span><span class="p">:</span> <span class="o">.</span><span class="n">heavy</span><span class="p">)</span>
<span class="n">heavyImpactFeedbackGenerator</span><span class="o">.</span><span class="nf">impactOccurred</span><span class="p">()</span>

</code></pre> <h3 id=notification>Notification</h3> <p>The notification type of feedback should be used to indicate to the user that a task has completed. Depending on the outcome of the task (success, error, warning), the feedback pattern differs.</p> <p><strong>Success</strong></p> <video width=400 controls> <source src="http://nodesmanager.io/haptic/success.mp4" type="video/mp4"> Your browser does not support HTML5 video. </video> <pre class="highlight swift"><code><span class="k">let</span> <span class="nv">successNotificationFeedbackGenerator</span> <span class="o">=</span> <span class="kt">UINotificationFeedbackGenerator</span><span class="p">()</span>
<span class="n">successNotificationFeedbackGenerator</span><span class="o">.</span><span class="nf">notificationOccurred</span><span class="p">(</span><span class="o">.</span><span class="n">success</span><span class="p">)</span>
</code></pre> <p><strong>Warning</strong></p> <video width=400 controls> <source src="http://nodesmanager.io/haptic/warning.mp4" type="video/mp4"> Your browser does not support HTML5 video. </video> <pre class="highlight swift"><code><span class="k">let</span> <span class="nv">warningNotificationFeedbackGenerator</span> <span class="o">=</span> <span class="kt">UINotificationFeedbackGenerator</span><span class="p">()</span>
<span class="n">warningNotificationFeedbackGenerator</span><span class="o">.</span><span class="nf">notificationOccurred</span><span class="p">(</span><span class="o">.</span><span class="n">warning</span><span class="p">)</span>
</code></pre> <p><strong>Failure</strong></p> <video width=400 controls> <source src="http://nodesmanager.io/haptic/error.mp4" type="video/mp4"> Your browser does not support HTML5 video. </video> <pre class="highlight swift"><code><span class="k">let</span> <span class="nv">errorNotificationFeedbackGenerator</span> <span class="o">=</span> <span class="kt">UINotificationFeedbackGenerator</span><span class="p">()</span>
<span class="n">errorNotificationFeedbackGenerator</span><span class="o">.</span><span class="nf">notificationOccurred</span><span class="p">(</span><span class="o">.</span><span class="n">error</span><span class="p">)</span>
</code></pre> <p>Using the <code>UIFeedbackGenerator</code> may have a little latency. If you want to use it to match some sound or visual effects, you can call the <code>prepare()</code> method on the generator to put the Taptic Engine in a prepared state and reduce the latency. It will stay prepared a few seconds, or until the next feedback is triggered.</p> <h2 id=when-to-use-haptic-feedback>When to use haptic feedback</h2> <p>We saw that creating haptic feedback is super easy. However, the complicated part is knowing when and where to use it.</p> <p>As usual, Apple helps with this, by adding a section on it to the <a href="https://developer.apple.com/ios/human-interface-guidelines/interaction/feedback/">Human Interface Guidelines</a>. And we can also learn a lot by looking at where the haptic feedback is used across iOS. </p> <p>We all know by now that the Home button isn&rsquo;t an actual button anymore, it&rsquo;s just some very smartly done and well-placed haptic feedback. But that specific pattern doesn&rsquo;t come by default with the new <code>UIFeedbackGenerator</code>. Other parts of iOS though use the exact types of feedback that the developers can access through the new APIs. </p> <p>For example, when you set an alarm or a timer, you&rsquo;ll notice a light tap whenever the selected time changes. Or when you type, and you hold down a letter on the keyboard to get to the various accents, the same light tap will inform you when you selected a different character.</p> <p>Some controls, such as the <code>UIRefreshControl</code> have the feedback built in, and you will feel a small &ldquo;knock&rdquo; when you pull to refresh a scroll view. Same for zooming in or out a <code>UIScrollView</code> - zooming too much (either in or out) will also create a &ldquo;knock&rdquo;.</p> <p>If you dig deeper, you&rsquo;ll find even more creative use cases of the haptic feedback. For example, sending or viewing an iMessage with fireworks effects will send create &ldquo;thuds&rdquo; for every exploding firework.</p> <p>To do haptic feedback right, you need to use it together with some animation or sound effects. Haptic feedback alone will probably feel out of place most of the time. Imagine getting a <code>UINotificationFeedbackType.error</code> feedback when you show an alert saying that the password you entered is wrong. That would be weird. </p> <p>The Taptic Engine, together with the haptic feedback API has huge potential, and we are looking forward to seeing more creative usages of it.</p> <h3 id=resources>Resources</h3> <ul> <li><a href="https://developer.apple.com/ios/human-interface-guidelines/interaction/feedback/">iOS Human Interface Guidelines</a></li> <li><a href="https://developer.apple.com/reference/uikit/uifeedbackgenerator">UIFeedbackGenerator API Reference</a></li> <li><a href="https://github.com/mariusc/Vibrate">Demo project</a></li> </ul> </article> <hr> <span class=meta>Posted on May 21, 2017</span> <hr/> </div> </div> </div> <hr> <footer> <div class=container> <div class=row> <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"> <ul class="list-inline text-center"> <li> <a href="http://twitter.com/marius_const" title=Twitter> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-twitter fa-stack-1x fa-inverse"></i> </span> </a> </li> <li> <a href="http://github.com/mariusc" title=GitHub> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-github fa-stack-1x fa-inverse"></i> </span> </a> </li> <li> <a href="http://www.linkedin.com/in/constantinescumarius" title=LinkedIn> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i> </span> </a> </li> <li> <a href="http://stackoverflow.com/users/2912892/marius-constantinescu" title=GitHub> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-stack-overflow fa-stack-1x fa-inverse"></i> </span> </a> </li> </ul> </div> </div> </div> </footer> <script src="/js/jquery.min.js?1571919779"></script> <script src="/js/bootstrap.min.js?1571919779"></script> <script src="/js/clean-blog.min.js?1571919780"></script> </body> </html>