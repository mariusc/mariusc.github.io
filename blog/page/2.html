<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="author" content="">

<title>Marius Constantinescu</title>

<!-- Bootstrap Core CSS -->
<!-- <link href="/css/bootstrap.min.css" rel="stylesheet"> -->

<!-- Custom CSS -->
<!-- <link href="/css/clean-blog.min.css" rel="stylesheet"> -->
<link href="/css/bootstrap.min.css" rel="stylesheet" type="text/css" /><link href="/css/clean-blog.css" rel="stylesheet" type="text/css" />

<!-- Custom Fonts -->
<link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<!--Google analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-45800859-1', 'mariusc.github.io');
  ga('send', 'pageview');

</script>
<!--End of Google Analytics-->
    <!--<title>My Middleman powered blog, hosted on GitHub Pages</title>-->
  </head>
  <body>
    
    <!-- Navigation -->
    <!-- Navigation -->
    <nav class="navbar navbar-default navbar-custom navbar-fixed-top">
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <!-- <a class="navbar-brand" href="index.html">Marius 
                    <br>Constantinescu</a> -->
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="index.html">About</a>
                    </li>
                    <!-- <li>
                        <a href="about.html">About</a>
                    </li> -->
                    <li>
                        <a href="blog.html">Blog</a>
                    </li>
                    <li>
                        <a href="work.html">Work</a>
                    </li>
                    <!-- <li>
                        <a href="contact.html">Contact</a>
                    </li> -->
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <!-- Main Content -->
    <!-- Page Header -->
    <!-- Set your background image for this header on the line below. -->
    <header class="intro-header" style="background-image: url('/img/mac.jpg')">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <div class="site-heading">
                        <h1>Tech Blog</h1>
                        <hr class="small">
                        <span class="subheading">Marius Constantinescu</span>
                    </div>
                </div>
            </div>
        </div>
    </header>


    <!-- Main Content -->
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-preview">
                    <a href="post.html">
                      <h1 class="post-title">
                        <a href="/2014-04-08-singletons.html">Singletons</a>
                      </h1>
                      <!-- <h3 class="post-subtitle">
                          Problems look mighty small from 150 miles up
                      </h3> -->
                    </a>
                    <p class="post-meta">April  8, 2014</p></p>
                    <p>I like Singletons. This was the first design pattern I learned while studying OOP and it&rsquo;s by far the one I&rsquo;m most comfortable with at this point. </p>

<p>In (almost) all my projects that need networking, I created a singleton NetworkManager, which handles all the network communication done throughout the app. I think that this is a very good example of a situation where a Singleton is useful.</p>

<h3 id="how-i-write-my-singletons">How I write my singletons</h3>

<p>If there&rsquo;s nothing fancy about the classes I want to be singletons, I simply include the following code in the <code>.pch</code> file:</p>
<pre class="highlight plaintext"><code>#ifndef SHARED_SINGLETON
    #define SHARED_SINGLETON(class)               \
    + (id)sharedInstance {                        \
        static dispatch_once_t pred = 0;          \
        __strong static id _shared##class = nil;  \
        dispatch_once(&amp;pred, ^{                   \
            _shared##class = [[self alloc] init]; \
        });                                       \
        return _shared##class;                    \
    }
#endif
</code></pre>

<p>Then, in the header file of the class I want to make a singleton, I add the function </p>
<pre class="highlight plaintext"><code>+ (id)sharedInstance;
</code></pre>

<p>And in the associated .m, </p>
<pre class="highlight plaintext"><code>SHARED_SINGLETON(Open311);
</code></pre>

<p>is the implementation of the sharedInstance method. From now on, every time I need this object, I call it with <code>[ClassName sharedObject]</code>.</p>

<p>Of course, if you need to do other things when fetching that Singleton, you need to add the method in your .m file and do it there.</p>

<h3 id="good-or-bad">Good or bad</h3>

<p>This is quite subjective, and depends really on how you use this pattern. It can be both good and bad. And it depends on how you write your singletons. ALWAYS use <code>dispatch_once</code> to instantiate your shared instance. The older method of <code>@synchronized</code> is also acceptable, although arguably slower. This way, you are sure that your singleton is thread-safe.</p>

<p>Some refuse to use Singletons because they are just glorified globals. But where do you put that data instead, if you need it all through the app? AppDelegate? But.. surprise.. the app delegate is actually a Singleton.</p>

<h3 id="conclusion">Conclusion</h3>

<p>You can like or you can hate the Singleton pattern. Actually, as long as you know what you&rsquo;re doing, I don&rsquo;t see any point in avoiding singletons.</p>


                    <!-- Add hr between each article -->
                      <hr>
                </div>
                <div class="post-preview">
                    <a href="post.html">
                      <h1 class="post-title">
                        <a href="/2013-11-14-my-middleman-powered-blog-hosted-on-github-pages.html">My Middleman powered blog, hosted on GitHub Pages</a>
                      </h1>
                      <!-- <h3 class="post-subtitle">
                          Problems look mighty small from 150 miles up
                      </h3> -->
                    </a>
                    <p class="post-meta">November 14, 2013</p></p>
                    <p>I would say I have quite some experience with Wordpress. I&rsquo;ve first used it in 2007, and I&rsquo;ve continued to use Wordpress as a CMS for almost all the websites I needed to create. I did this because it was an easy solution for what we needed.</p>

<h3 id="why-middleman">Why Middleman</h3>

<p>But when I decided to create my own website, Wordpress wasn&rsquo;t really my first option. I&rsquo;m not really sure why I chose Middleman, but now that I&rsquo;m using it, I know exactly why I like it. </p>

<p>Middleman builds static websites. There&rsquo;s no database required, all you need to do is write the articles using markdown, and they will be built into static html webpages. For me, the biggest advantage of this is that I can host it on GitHub Pages. I couldn&rsquo;t have installed Wordpress, for example, on a GitHub Pages website, because Wordpress needs a database on the server. Another very nice feature is that each article is basically a text file, which can be easily kept on git. Also, because it&rsquo;s written in markdown, it&rsquo;s very easy to add code in the articles, and it looks very good. And finally, writing your articles in a simple text editor (or maybe even in <code>vim</code>) gives you that geekish feel, which can&rsquo;t be accomplished by using Wordpress, Joomla or other WYSIWYG engines.</p>

<p>On the other hand, middleman is not as easy to use as Wordpress. For technical guys it&rsquo;s ok, but I wouldn&rsquo;t imagine, for example, my dentist using Middleman to maintain a blog. Wordpress is much more accessible.</p>

<h3 id="how-i-did-it">How I did it</h3>

<p>Middleman comes as a Ruby gem. You have to open a terminal and then 
<code>sudo gem install middleman-blog</code>. Now you have the blogging extension of middleman installed on your computer. To start a website, all you have to do is <code>middleman init MYBLOG --template=blog</code>. This generates the following:</p>
<pre class="highlight plaintext"><code>MYBLOG
- .gitignore
- config.rb
- Gemfile
- Gemfile.lock
- source
    - 2012-01-01-example-article.html.markdown
    - calendar.html.erb
    - feed.xml.builder
    - images
    - index.html.erb
    - javascripts
    - layout.erb
    - stylesheets
    - tag.html.erb
</code></pre>

<p>Of course you can replace <code>MYBLOG</code> with a name of your choice.</p>

<p><code>Erb</code> is the default templating language of Middleman. <code>Haml</code>, <code>Sass</code>, <code>Scss</code> and others are also supported, but when I started this project, I didn&rsquo;t find any good reason to switch from the default. I still don&rsquo;t.</p>

<p>A very important file is the <code>config.rb</code>. This is where all the configurations of the site are. Middleman has a very god documentation, and it&rsquo;s easy to understand how it works. But just for inspiration, my sources are <a href="http://github.com/mariusc/blog">public on GitHub</a>.</p>

<p>To <strong>add an article</strong>, you can go to Terminal and write </p>

<p><code>middleman article &quot;Your Title&quot;</code></p>

<p>A new file is created in the <code>source</code> folder, corresponding to this article. The articles are written in markdown language, and all they contains are the text, maybe images, links and metainfo such as date and tags. All the styling information is somewhere else, and we will talk about this in a short while. The file created in the <code>source</code> folder has only the title, date and an empty list of tags for the article. Write something as the content of the article.</p>

<p>At this moment, you can run <code>bundle exec middleman server</code> and go to the link shown in Terminal (<code>http://localhost:4567</code>). You will see a very plain html blog, with your first article.</p>

<p>To improve the appearance of the website, you will need to use your HTML and CSS knowledge and create or adapt a template. 
The file layout.erb is the one containing the layout of the website. Here you can add the code for the header, footer, maybe a sidebar, etc. The layour.erb is kind of a frame, which appears on all the pages of your blog. <code>&lt;%= yield %&gt;</code> is the part which is actually framed using this layout.
The <code>index.html.erb</code> file contains the styling of the content which is yielded in the layout.erb file. For example, here you can write and style the title, tags, date of an article.
My advice is to get a free HTML template you like and adjust it to fit you needs. Very important, in my opinion, is to choose a responsive layout, one that looks good on all resolutions, including phone or tablet. I learnt this the hard way, and in the beginnig of 2014 I will probably change the layout of my site.</p>

<h3 id="publishing-your-blog-on-github-pages">Publishing your blog on GitHub Pages</h3>

<p>GitHub offers <a href="http://pages.github.com/">GitHub Pages</a>, mainly for creating a small site about each of your projects. But this can be used also to host your personal developer website :). I chose to have this blog as a separate repo than the rest of the site. The nice thing is that Middleman is perfectly integrated with GitHub pages, all thanks to the middleman-gh-pages gem. I included it in the Gemfile</p>

<p><code>gem &quot;middleman-gh-pages&quot;</code></p>

<p>and required it in a Rakefile:</p>

<p><code>require &#39;middleman-gh-pages&#39;</code></p>

<p>Then you have to bundle install again, and now you are ready to push to your gh-pages branch, in order to publish your built website. And middleman-gh-pages does this for you, with</p>

<p><code>bundle exec rake publish</code></p>

<p>The contents of your <code>gh-pages</code> branch will then be published at <code>username.github.io/repo_name</code>. The <code>master</code> branch will contain the source files, and the <code>gh-pages</code> branch will contain the built website. Running the <em>publish</em> builds your website and pushes it to the <code>gh-pages</code>.</p>

<p>That&rsquo;s about it. There are some references I found very useful below, and the sources for this blog. For discussions about this articles, send me a <a href="http://www.twitter.com/marius_const">tweet</a>.</p>

<h3 id="resources:">Resources:</h3>

<ul>
<li><a href="http://middlemanapp.com/getting-started/">Middleman documentation: getting started</a></li>
<li><a href="http://middlemanapp.com/templates/">Middleman templating</a></li>
<li><a href="http://12devs.co.uk/articles/204/">12devs - building static websites with Middleman</a></li>
<li><a href="http://joey.aghion.com/building-a-blog-with-middleman-and-github-pages/">Joey Aghion - Building a blog with Middleman and GitHub Pages</a></li>
<li><a href="http://designbyjoel.com/blog/2012-10-20-building-a-blog-in-middleman/">Joel Hans - Building a middleman blog</a></li>
<li><strong><a href="https://github.com/mariusc/blog">Repo for my blog</a></strong> - have a look at both the <em>master</em> and the <em>gh-pages</em> branch</li>
</ul>


                    <!-- Add hr between each article -->
                </div>

               
                <!-- Pager -->
                  <ul class="pager">
                       <li class="previous">
                            <a href="/blog.html">Previous page</a>
                       </li>
                  </ul>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <hr>

<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    <li>
                        <a href="http://twitter.com/marius_const" title="Twitter">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    <li>
                        <a href="http://github.com/mariusc" title="GitHub">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    <li>
                        <a href="http://www.linkedin.com/in/constantinescumarius" title="LinkedIn">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    <li>
                        <a href="http://stackoverflow.com/users/2912892/marius-constantinescu" title="GitHub">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-stack-overflow fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                </ul>
                <!--
                <p class="copyright text-muted">This site is <a href="http://github.com/mariusc/mariusc.github.io">open source</a>.</p>
            -->
            </div>
        </div>
    </div>
</footer>

    <!-- jQuery -->
<script src="/js/jquery.min.js" type="text/javascript"></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js" type="text/javascript"></script>

<!-- Custom Theme JavaScript -->
<script src="/js/clean-blog.min.js" type="text/javascript"></script>
  </body>
</html>
